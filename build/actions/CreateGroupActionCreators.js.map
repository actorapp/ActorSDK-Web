{"version":3,"sources":["../../src/actions/CreateGroupActionCreators.js"],"names":["CreateGroupActionCreators","open","GROUP_CREATE_MODAL_SHOW","toggleAutoFocus","close","GROUP_CREATE_MODAL_HIDE","setGroupName","name","GROUP_CREATE_SET_NAME","setSelectedUserIds","selectedUserIds","GROUP_CREATE_SET_MEMBERS","createGroup","title","avatar","memberIds","request","GROUP_CREATE","success","GROUP_CREATE_SUCCESS","failure","GROUP_CREATE_ERROR","openCreatedGroup","peer","push","peerToString","then"],"mappings":";;;;AAIA;;AACA;;;;AACA;;;;AACA;;;;AAEA;;AACA;;;;;;AAVA;;;;AAYA,IAAMA,4BAA4B;AAChCC,MADgC,kBACzB;AACL,sCAAS,+BAAYC,uBAArB;AACA,oCAAsBC,eAAtB,CAAsC,KAAtC;AACD,GAJ+B;AAMhCC,OANgC,mBAMxB;AACN,sCAAS,+BAAYC,uBAArB;AACA,oCAAsBF,eAAtB,CAAsC,IAAtC;AACD,GAT+B;AAWhCG,cAXgC,wBAWnBC,IAXmB,EAWb;AACjB,sCAAS,+BAAYC,qBAArB,EAA4C,EAAED,UAAF,EAA5C;AACD,GAb+B;AAehCE,oBAfgC,8BAebC,eAfa,EAeI;AAClC,sCAAS,+BAAYC,wBAArB,EAA+C,EAAED,gCAAF,EAA/C;AACD,GAjB+B;AAmBhCE,aAnBgC,uBAmBpBC,KAnBoB,EAmBbC,MAnBa,EAmBLC,SAnBK,EAmBM;AACpC,QAAMH,cAAc,SAAdA,WAAc;AAAA,aAAM,uCAAc,sBAAYA,WAAZ,CAAwBC,KAAxB,EAA+BC,MAA/B,EAAuCC,SAAvC,CAAd,EAAiE;AACzFC,iBAAS,+BAAYC,YADoE;AAEzFC,iBAAS,+BAAYC,oBAFoE;AAGzFC,iBAAS,+BAAYC;AAHoE,OAAjE,EAIvB,EAAER,YAAF,EAASC,cAAT,EAAiBC,oBAAjB,EAJuB,CAAN;AAAA,KAApB;;AAMA,QAAMO,mBAAmB,SAAnBA,gBAAmB,CAACC,IAAD;AAAA,aAAU,kBAAQC,IAAR,UAAoB,oBAAUC,YAAV,CAAuBF,IAAvB,CAApB,CAAV;AAAA,KAAzB;;AAEAX,kBACGc,IADH,CACQJ,gBADR,EAEGI,IAFH,CAEQ,KAAKtB,KAFb;AAGD;AA/B+B,CAAlC;;kBAkCeJ,yB","file":"CreateGroupActionCreators.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport { dispatch, dispatchAsync } from '../dispatcher/ActorAppDispatcher';\nimport ActorClient from '../utils/ActorClient';\nimport history from '../utils/history';\nimport PeerUtils from '../utils/PeerUtils';\n\nimport { ActionTypes } from '../constants/ActorAppConstants';\nimport ComposeActionCreators from '../actions/ComposeActionCreators';\n\nconst CreateGroupActionCreators = {\n  open() {\n    dispatch(ActionTypes.GROUP_CREATE_MODAL_SHOW);\n    ComposeActionCreators.toggleAutoFocus(false);\n  },\n\n  close() {\n    dispatch(ActionTypes.GROUP_CREATE_MODAL_HIDE);\n    ComposeActionCreators.toggleAutoFocus(true);\n  },\n\n  setGroupName(name) {\n    dispatch(ActionTypes.GROUP_CREATE_SET_NAME, { name });\n  },\n\n  setSelectedUserIds(selectedUserIds) {\n    dispatch(ActionTypes.GROUP_CREATE_SET_MEMBERS, { selectedUserIds });\n  },\n\n  createGroup(title, avatar, memberIds) {\n    const createGroup = () => dispatchAsync(ActorClient.createGroup(title, avatar, memberIds), {\n      request: ActionTypes.GROUP_CREATE,\n      success: ActionTypes.GROUP_CREATE_SUCCESS,\n      failure: ActionTypes.GROUP_CREATE_ERROR\n    }, { title, avatar, memberIds });\n\n    const openCreatedGroup = (peer) => history.push(`/im/${PeerUtils.peerToString(peer)}`);\n\n    createGroup()\n      .then(openCreatedGroup)\n      .then(this.close)\n  }\n};\n\nexport default CreateGroupActionCreators;\n"]}