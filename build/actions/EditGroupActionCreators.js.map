{"version":3,"sources":["../../src/actions/EditGroupActionCreators.js"],"names":["EditGroupActionCreators","show","gid","setBindings","bindGroup","onCurrentGroupChange","group","getGroup","GROUP_EDIT_MODAL_SHOW","toggleAutoFocus","hide","removeBindings","GROUP_EDIT_MODAL_HIDE","GROUP_INFO_CHANGED","editGroupTitle","title","getTitle","request","GROUP_EDIT_TITLE","success","GROUP_EDIT_TITLE_SUCCESS","failure","GROUP_EDIT_TITLE_ERROR","changeGroupAvatar","avatar","editGroupAbout","about","getAbout","GROUP_EDIT_ABOUT","GROUP_EDIT_ABOUT_SUCCESS","GROUP_EDIT_ABOUT_ERROR","removeGroupAvatar"],"mappings":";;;;AAIA;;AACA;;AACA;;;;AAEA;;;;AAEA;;;;AACA;;;;;;;;;;+eAXA;;;;IAcMA,uB;;;;;;;;;oCACJC,I,iBAAKC,G,EAAK;AACR,SAAKC,WAAL,CAAiB,OAAjB,EAA0B,CACxB,sBAAYC,SAAZ,CAAsBF,GAAtB,EAA2B,KAAKG,oBAAhC,CADwB,CAA1B;;AAIA,QAAMC,QAAQ,sBAAYC,QAAZ,CAAqBL,GAArB,CAAd;AACA,sCAAS,+BAAYM,qBAArB,EAA4C,EAAEF,YAAF,EAA5C;;AAEA,oCAAsBG,eAAtB,CAAsC,KAAtC;AACD,G;;oCAEDC,I,mBAAO;AACL,SAAKC,cAAL,CAAoB,OAApB;;AAEA,sCAAS,+BAAYC,qBAArB;;AAEA,oCAAsBH,eAAtB,CAAsC,IAAtC;AACD,G;;oCAEDJ,oB,iCAAqBC,K,EAAO;AAC1B,sCAAS,+BAAYO,kBAArB,EAAyC,EAAEP,YAAF,EAAzC;AACD,G;;oCAEDQ,c,2BAAeZ,G,EAAKa,K,EAAO;AACzB,QAAIA,UAAU,yBAAeC,QAAf,EAAd,EAAyC;AACvC,6CAAc,sBAAYF,cAAZ,CAA2BZ,GAA3B,EAAgCa,KAAhC,CAAd,EAAsD;AACpDE,iBAAS,+BAAYC,gBAD+B;AAEpDC,iBAAS,+BAAYC,wBAF+B;AAGpDC,iBAAS,+BAAYC;AAH+B,OAAtD,EAIG,EAAEpB,QAAF,EAAOa,YAAP,EAJH;AAKD;AACF,G;;oCAEDQ,iB,8BAAkBrB,G,EAAKsB,M,EAAQ;AAC7B,0BAAYD,iBAAZ,CAA8BrB,GAA9B,EAAmCsB,MAAnC;AACD,G;;oCAEDC,c,2BAAevB,G,EAAKwB,K,EAAO;AACzBA,YAAQA,UAAU,EAAV,GAAe,IAAf,GAAsBA,KAA9B;AACA,QAAIA,UAAU,yBAAeC,QAAf,EAAd,EAAyC;AACvC,6CAAc,sBAAYF,cAAZ,CAA2BvB,GAA3B,EAAgCwB,KAAhC,CAAd,EAAsD;AACpDT,iBAAS,+BAAYW,gBAD+B;AAEpDT,iBAAS,+BAAYU,wBAF+B;AAGpDR,iBAAS,+BAAYS;AAH+B,OAAtD,EAIG,EAAE5B,QAAF,EAAOwB,YAAP,EAJH;AAKD;AACF,G;;oCAEDK,iB,8BAAkB7B,G,EAAK;AACrB,0BAAY6B,iBAAZ,CAA8B7B,GAA9B;AACD,G;;;;;kBAGY,IAAIF,uBAAJ,E","file":"EditGroupActionCreators.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport { dispatch, dispatchAsync } from '../dispatcher/ActorAppDispatcher';\nimport { ActionTypes } from '../constants/ActorAppConstants';\nimport ActorClient from '../utils/ActorClient';\n\nimport EditGroupStore from '../stores/EditGroupStore'\n\nimport ActionCreators from './ActionCreators';\nimport ComposeActionCreators from './ComposeActionCreators';\n\n\nclass EditGroupActionCreators extends ActionCreators {\n  show(gid) {\n    this.setBindings('group', [\n      ActorClient.bindGroup(gid, this.onCurrentGroupChange)\n    ]);\n\n    const group = ActorClient.getGroup(gid);\n    dispatch(ActionTypes.GROUP_EDIT_MODAL_SHOW, { group });\n\n    ComposeActionCreators.toggleAutoFocus(false);\n  }\n\n  hide() {\n    this.removeBindings('group');\n\n    dispatch(ActionTypes.GROUP_EDIT_MODAL_HIDE);\n\n    ComposeActionCreators.toggleAutoFocus(true);\n  }\n\n  onCurrentGroupChange(group) {\n    dispatch(ActionTypes.GROUP_INFO_CHANGED, { group })\n  }\n\n  editGroupTitle(gid, title) {\n    if (title !== EditGroupStore.getTitle()) {\n      dispatchAsync(ActorClient.editGroupTitle(gid, title), {\n        request: ActionTypes.GROUP_EDIT_TITLE,\n        success: ActionTypes.GROUP_EDIT_TITLE_SUCCESS,\n        failure: ActionTypes.GROUP_EDIT_TITLE_ERROR\n      }, { gid, title });\n    }\n  }\n\n  changeGroupAvatar(gid, avatar) {\n    ActorClient.changeGroupAvatar(gid, avatar)\n  }\n\n  editGroupAbout(gid, about) {\n    about = about === '' ? null : about;\n    if (about !== EditGroupStore.getAbout()) {\n      dispatchAsync(ActorClient.editGroupAbout(gid, about), {\n        request: ActionTypes.GROUP_EDIT_ABOUT,\n        success: ActionTypes.GROUP_EDIT_ABOUT_SUCCESS,\n        failure: ActionTypes.GROUP_EDIT_ABOUT_ERROR\n      }, { gid, about });\n    }\n  }\n\n  removeGroupAvatar(gid) {\n    ActorClient.removeGroupAvatar(gid)\n  }\n}\n\nexport default new EditGroupActionCreators();\n"]}