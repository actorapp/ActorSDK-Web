{"version":3,"sources":["../../src/stores/AddContactStore.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAIA;;AACA;;;;AACA;;;;AAEA,IAAI,UAAU,KAAV;IACA,SAAS,EAAT;IACA,eAAe,KAAf;IACA,WAAW,EAAX;;;;IAEE;;;AACJ,WADI,eACJ,CAAY,UAAZ,EAAwB;wCADpB,iBACoB;0DACtB,kBAAM,UAAN,GADsB;GAAxB;;AADI,4BAKJ,2BAAS;AACP,WAAO,OAAP,CADO;;;AALL,4BASJ,qCAAc;AACZ,WAAO,YAAP,CADY;;;AATV,4BAaJ,+BAAW;AACT,WAAO,MAAP,CADS;;;AAbP,4BAiBJ,mCAAa;AACX,WAAO,QAAP,CADW;;;AAjBT,4BAqBJ,iCAAW,SAAS;AAClB,eAAW,OAAX,CADkB;;;AArBhB,4BAyBJ,mCAAa;AACX,cAAU,KAAV,CADW;AAEX,aAAS,EAAT,CAFW;AAGX,mBAAe,KAAf,CAHW;AAIX,eAAW,EAAX,CAJW;;;AAzBT,4BAgCJ,qCAAa,QAAQ;AACnB,YAAO,OAAO,IAAP;AACL,WAAK,+BAAY,sBAAZ;AACH,kBAAU,IAAV,CADF;AAEE,aAAK,YAAL,GAFF;AAGE,cAHF;AADF,WAKO,+BAAY,sBAAZ;AACH,aAAK,UAAL,GADF;AAEE,aAAK,YAAL,GAFF;AAGE,cAHF;;AALF,WAUO,+BAAY,YAAZ;AACH,iBAAS,OAAO,KAAP,CADX;AAEE,uBAAe,IAAf,CAFF;AAGE,aAAK,YAAL,GAHF;AAIE,cAJF;AAVF,WAeO,+BAAY,oBAAZ;AACH,uBAAe,KAAf,CADF;AAEE,YAAI,OAAO,KAAP,KAAiB,EAAjB,EAAqB;AACvB,eAAK,UAAL,CAAgB,EAAhB,EADuB;SAAzB,MAEO;AACL,eAAK,UAAL,CAAgB,OAAO,QAAP,CAAhB,CADK;SAFP;AAKA,aAAK,YAAL,GAPF;AAQE,cARF;AAfF,WAwBO,+BAAY,kBAAZ;AACH,uBAAe,KAAf,CADF;AAEE,aAAK,YAAL,GAFF;AAGE,cAHF;AAxBF;KADmB;;;SAhCjB;;;kBAkES,IAAI,eAAJ","file":"AddContactStore.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport { Store } from 'flux/utils';\nimport Dispatcher from '../dispatcher/ActorAppDispatcher';\nimport { ActionTypes } from '../constants/ActorAppConstants';\n\nlet _isOpen = false,\n    _query = '',\n    _isSearching = false,\n    _results = [];\n\nclass AddContactStore extends Store {\n  constructor(Dispatcher) {\n    super(Dispatcher);\n  }\n\n  isOpen() {\n    return _isOpen;\n  }\n\n  isSearching() {\n    return _isSearching;\n  }\n\n  getQuery() {\n    return _query;\n  }\n\n  getResults() {\n    return _results;\n  }\n\n  setResults(results) {\n    _results = results;\n  }\n\n  resetStore() {\n    _isOpen = false;\n    _query = '';\n    _isSearching = false;\n    _results = [];\n  }\n\n  __onDispatch(action) {\n    switch(action.type) {\n      case ActionTypes.CONTACT_ADD_MODAL_SHOW:\n        _isOpen = true;\n        this.__emitChange();\n        break;\n      case ActionTypes.CONTACT_ADD_MODAL_HIDE:\n        this.resetStore();\n        this.__emitChange();\n        break;\n\n      case ActionTypes.CONTACT_FIND:\n        _query = action.query;\n        _isSearching = true;\n        this.__emitChange();\n        break;\n      case ActionTypes.CONTACT_FIND_SUCCESS:\n        _isSearching = false;\n        if (action.query === '') {\n          this.setResults([]);\n        } else {\n          this.setResults(action.response)\n        }\n        this.__emitChange();\n        break;\n      case ActionTypes.CONTACT_FIND_ERROR:\n        _isSearching = false;\n        this.__emitChange();\n        break;\n      default:\n    }\n  }\n}\n\nexport default new AddContactStore(Dispatcher);\n"]}